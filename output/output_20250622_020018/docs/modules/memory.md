---
url: https://js.langchain.com.cn/docs/modules/memory/
crawled_at: 2025-06-22T02:00:24.720710
---

å…¥é—¨: å†…å­˜
info
æ¦‚å¿µæŒ‡å—
åœ¨å¯¹è¯è¿‡ç¨‹ä¸­å­˜å‚¨å’Œæ£€ç´¢æ•°æ®çš„æ¦‚å¿µè¢«ç§°ä¸ºå†…å­˜ã€‚æœ‰ä¸¤ç§ä¸»è¦æ–¹æ³•ï¼Œ
loadMemoryVariables
å’Œ
saveContext
ã€‚ç¬¬ä¸€ç§æ–¹æ³•ç”¨äºä»å†…å­˜ä¸­æ£€ç´¢æ•°æ®ï¼ˆå¯é€‰æ‹©ä½¿ç”¨å½“å‰è¾“å…¥å€¼)ï¼Œ ç¬¬äºŒç§æ–¹æ³•ç”¨äºå°†æ•°æ®å­˜å‚¨åˆ°å†…å­˜ä¸­ã€‚
export
type
InputValues
=
Record
<
string
,
any
>
;
export
type
OutputValues
=
Record
<
string
,
any
>
;
interface
BaseMemory
{
loadMemoryVariables
(
values
:
InputValues
)
:
Promise
<
MemoryVariables
>
;
saveContext
(
inputValues
:
InputValues
,
outputValues
:
OutputValues
)
:
Promise
<
void
>
;
}
note
ä¸è¦åœ¨ä¸¤ä¸ªä¸åŒçš„é“¾ä¹‹é—´å…±äº«ç›¸åŒçš„å­˜å‚¨å™¨å®ä¾‹ï¼Œ å­˜å‚¨å™¨å®ä¾‹ä»£è¡¨å•ä¸ªå¯¹è¯çš„å†å²è®°å½•
note
å¦‚æœæ‚¨å°†LangChainåº”ç”¨éƒ¨ç½²åœ¨æ— æœåŠ¡å™¨ç¯å¢ƒä¸­ï¼Œè¯·ä¸è¦å°†å­˜å‚¨å™¨å®ä¾‹å­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œ å› ä¸ºæ‚¨çš„æ‰˜ç®¡æä¾›å•†å¯èƒ½ä¼šåœ¨ä¸‹ä¸€æ¬¡è°ƒç”¨è¯¥å‡½æ•°æ—¶é‡ç½®å®ƒã€‚
æ‰€æœ‰å†…å­˜ç±»
â€‹
ğŸ—ƒï¸
ç¤ºä¾‹
12 items
é«˜çº§
â€‹
è¦å®ç°æ‚¨è‡ªå·±çš„å†…å­˜ç±»ï¼Œæœ‰ä¸¤ä¸ªé€‰é¡¹:
å­ç±»åŒ–
BaseChatMemory
â€‹
è¿™æ˜¯å®ç°è‡ªå·±çš„å†…å­˜ç±»çš„æœ€ç®€å•æ–¹æ³•ã€‚æ‚¨å¯ä»¥å­ç±»åŒ–
BaseChatMemory
ï¼Œ é€šè¿‡å°†è¾“å…¥å’Œè¾“å‡ºä¿å­˜ä¸º
èŠå¤©æ¶ˆæ¯
æ¥å¤„ç†
saveContext
ï¼Œ å¹¶ä»…å®ç°
loadMemoryVariables
æ–¹æ³•ã€‚è¯¥æ–¹æ³•è´Ÿè´£è¿”å›ä¸å½“å‰è¾“å…¥å€¼ç›¸å…³çš„å­˜å‚¨å™¨å˜é‡ã€‚
abstract
class
BaseChatMemory
extends
BaseMemory
{
chatHistory
:
ChatMessageHistory
;
abstract
loadMemoryVariables
(
values
:
InputValues
)
:
Promise
<
MemoryVariables
>
;
}
Subclassing
BaseMemory
â€‹
å¦‚æœæ‚¨æƒ³è¦å®ç°ä¸€ä¸ªæ›´è‡ªå®šä¹‰çš„å†…å­˜ç±»ï¼Œæ‚¨å¯ä»¥ç»§æ‰¿
BaseMemory
ç±»å¹¶å®ç°
loadMemoryVariables
å’Œ
saveContext
æ–¹æ³•ã€‚
saveContext
æ–¹æ³•è´Ÿè´£å°†è¾“å…¥å’Œè¾“å‡ºå€¼å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚
loadMemoryVariables
æ–¹æ³•è´Ÿè´£è¿”å›ä¸å½“å‰è¾“å…¥å€¼ç›¸å…³çš„å†…å­˜å˜é‡ã€‚
abstract
class
BaseMemory
{
abstract
loadMemoryVariables
(
values
:
InputValues
)
:
Promise
<
MemoryVariables
>
;
abstract
saveContext
(
inputValues
:
InputValues
,
outputValues
:
OutputValues
)
:
Promise
<
void
>
;
}