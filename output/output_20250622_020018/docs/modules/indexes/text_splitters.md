---
url: https://js.langchain.com.cn/docs/modules/indexes/text_splitters/
crawled_at: 2025-06-22T02:00:23.545801
---

å…¥é—¨: æ–‡æœ¬åˆ†å‰²å™¨ï¼ˆText Splitters)
info
æ¦‚å¿µæŒ‡å—
è¯­è¨€æ¨¡å‹é€šå¸¸å—åˆ°å¯ä»¥ä¼ é€’ç»™å®ƒä»¬çš„æ–‡æœ¬æ•°é‡çš„é™åˆ¶ï¼Œå› æ­¤å°†æ–‡æœ¬åˆ†å‰²ä¸ºè¾ƒå°çš„å—æ˜¯å¿…è¦çš„ã€‚
LangChainæä¾›äº†å‡ ç§å®ç”¨å·¥å…·æ¥å®Œæˆæ­¤æ“ä½œã€‚
ä½¿ç”¨æ–‡æœ¬åˆ†å‰²å™¨ä¹Ÿå¯ä»¥å¸®åŠ©æ”¹å–„å‘é‡å­˜å‚¨çš„æœç´¢ç»“æœï¼Œå› ä¸ºè¾ƒå°çš„å—æœ‰æ—¶æ›´å®¹æ˜“åŒ¹é…æŸ¥è¯¢ã€‚
æµ‹è¯•ä¸åŒçš„å—å¤§å°ï¼ˆå’Œå—é‡å )æ˜¯ä¸€ä¸ªå€¼å¾—çš„ç»ƒä¹ ï¼Œä»¥é€‚åº”æ‚¨çš„ç”¨ä¾‹ã€‚
å‚æ•°
â€‹
chunkSize?: number = 1000
: æ¯ä¸ªå—ä¸­æœ€å¤§å­—ç¬¦æ•°ã€‚é»˜è®¤å€¼ä¸º1000ä¸ªæ ‡è®°ï¼ˆtokens)ã€‚
chunkOverlap?: number = 200
: ç›¸é‚»å—ä¹‹é—´é‡å çš„å­—ç¬¦æ•°ã€‚é»˜è®¤å€¼ä¸º200ä¸ªæ ‡è®°ï¼ˆtokens)ã€‚
type
TextSplitterChunkHeaderOptions
=
{
chunkHeader
?
:
string
;
chunkOverlapHeader
?
:
string
;
appendChunkOverlapHeader
?
:
boolean
;
}
;
interface
TextSplitter
{
chunkSize
:
number
;
chunkOverlap
:
number
;
createDocuments
(
texts
:
string
[
]
,
metadatas
?
:
Record
<
string
,
any
>
[
]
,
chunkHeaderOptions
:
TextSplitterChunkHeaderOptions
=
{
}
)
:
Promise
<
Document
[
]
>
;
splitDocuments
(
documents
:
Document
[
]
,
chunkHeaderOptions
:
TextSplitterChunkHeaderOptions
=
{
}
)
:
Promise
<
Document
[
]
>
;
}
æ–‡æœ¬åˆ†å‰²å™¨æä¾›äº†ä¸¤ç§æ–¹æ³•ï¼šï¼Œ
createDocuments
å’Œ
splitDocuments
ã€‚
å‰è€…è·å–åŸå§‹æ–‡æœ¬å­—ç¬¦ä¸²çš„åˆ—è¡¨å¹¶è¿”å›æ–‡æ¡£çš„åˆ—è¡¨ï¼Œåè€…è·å–æ–‡æ¡£åˆ—è¡¨å¹¶è¿”å›æ–‡æ¡£çš„åˆ—è¡¨ã€‚
åŒºåˆ«åœ¨äº
createDocuments
å°†åŸå§‹æ–‡æœ¬å­—ç¬¦ä¸²æ‹†åˆ†æˆå—ï¼Œè€Œ
splitDocuments
å°†æ–‡æ¡£æ‹†åˆ†æˆå—ã€‚
ä½•æ—¶ä½¿ç”¨
chunkHeaderOptions
â€‹
ä»…ä»…é€šè¿‡é‡å æ–‡æœ¬æ¥åˆ†å‰²æ–‡æ¡£å¯èƒ½æ— æ³•æä¾›è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œè®©LLMsç¡®å®šå¤šä¸ªå—æ˜¯å¦å¼•ç”¨äº†ç›¸åŒçš„ä¿¡æ¯æˆ–å¦‚ä½•è§£å†³æ¥è‡ªç›¸äº’çŸ›ç›¾çš„æºçš„ä¿¡æ¯ã€‚
ç»™æ¯ä¸ªæ–‡æ¡£æ‰“æ ‡ç­¾æ˜¯ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå¦‚æœä½ çŸ¥é“éœ€è¦è¿‡æ»¤å“ªäº›ä¿¡æ¯ï¼Œä½†æ˜¯ä½ å¯èƒ½äº‹å…ˆä¸çŸ¥é“ä½ çš„å‘é‡å­˜å‚¨å°†éœ€è¦å¤„ç†å“ªäº›æŸ¥è¯¢ã€‚
åœ¨æ¯ä¸ªå—ä¸­ç›´æ¥åŒ…å«å…¶ä»–ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä¾‹å¦‚æ ‡é¢˜ï¼Œå¯ä»¥å¸®åŠ©å¤„ç†ä»»æ„æŸ¥è¯¢ã€‚
Here's an example:
import
{
OpenAI
}
from
"langchain/llms/openai"
;
import
{
RetrievalQAChain
,
loadQAStuffChain
}
from
"langchain/chains"
;
import
{
CharacterTextSplitter
}
from
"langchain/text_splitter"
;
import
{
OpenAIEmbeddings
}
from
"langchain/embeddings/openai"
;
import
{
HNSWLib
}
from
"langchain/vectorstores/hnswlib"
;
const
splitter
=
new
CharacterTextSplitter
(
{
chunkSize
:
1536
,
chunkOverlap
:
200
,
}
)
;
const
jimDocs
=
await
splitter
.
createDocuments
(
[
`
My favorite color is blue.
`
]
,
[
]
,
{
chunkHeader
:
`
DOCUMENT NAME: Jim Interview\n\n---\n\n
`
,
appendChunkOverlapHeader
:
true
,
}
)
;
const
pamDocs
=
await
splitter
.
createDocuments
(
[
`
My favorite color is red.
`
]
,
[
]
,
{
chunkHeader
:
`
DOCUMENT NAME: Pam Interview\n\n---\n\n
`
,
appendChunkOverlapHeader
:
true
,
}
)
;
const
vectorStore
=
await
HNSWLib
.
fromDocuments
(
jimDocs
.
concat
(
pamDocs
)
,
new
OpenAIEmbeddings
(
)
)
;
const
model
=
new
OpenAI
(
{
temperature
:
0
}
)
;
const
chain
=
new
RetrievalQAChain
(
{
combineDocumentsChain
:
loadQAStuffChain
(
model
)
,
retriever
:
vectorStore
.
asRetriever
(
)
,
returnSourceDocuments
:
true
,
}
)
;
const
res
=
await
chain
.
call
(
{
query
:
"What is Pam's favorite color?"
,
}
)
;
console
.
log
(
JSON
.
stringify
(
res
,
null
,
2
)
)
;
/*
{
"text": " Red.",
"sourceDocuments": [
{
"pageContent": "DOCUMENT NAME: Pam Interview\n\n---\n\nMy favorite color is red.",
"metadata": {
"loc": {
"lines": {
"from": 1,
"to": 1
}
}
}
},
{
"pageContent": "DOCUMENT NAME: Jim Interview\n\n---\n\nMy favorite color is blue.",
"metadata": {
"loc": {
"lines": {
"from": 1,
"to": 1
}
}
}
}
]
}
*/
;
All Text Splitters
â€‹
ğŸ—ƒï¸
ç¤ºä¾‹
4 items
é«˜çº§
â€‹
å¦‚æœä½ æƒ³è¦å®ç°è‡ªå·±çš„å®šåˆ¶æ–‡æœ¬åˆ†å‰²å™¨ï¼Œä½ åªéœ€è¦ç»§æ‰¿
TextSplitter
ç±»å¹¶ä¸”å®ç°ä¸€ä¸ªæ–¹æ³•
splitText
å³å¯ã€‚è¯¥æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ã€‚è¿”å›çš„å­—ç¬¦ä¸²åˆ—è¡¨å°†è¢«ç”¨ä½œè¾“å…¥æ•°æ®çš„åˆ†å—ã€‚
abstract
class
TextSplitter
{
abstract
splitText
(
text
:
string
)
:
Promise
<
string
[
]
>
;
}